<!-- Customer Information -->
<div class="bg-white rounded-xl shadow-md overflow-hidden">
    <div class="px-6 py-4 bg-gray-50 border-b border-gray-200">
        <h2 class="text-xl font-bold text-gray-900">Customer Information</h2>
    </div>
    
    <div class="p-6">
        <!-- Alerts Container -->
        <div id="alerts-container" class="mb-6"></div>
        
        <div class="space-y-4">
            <!-- Email -->
            <div>
                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address*</label>
                <input type="email" id="email" name="email" class="w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50" required {% if user.is_authenticated %}value="{{ user.email }}"{% endif %}>
                <p class="text-sm text-gray-500 mt-1">We'll send your order confirmation and updates to this email address.</p>
            </div>
            
            {% if not user.is_authenticated %}
            <div class="flex items-center">
                <input type="checkbox" id="create-account" name="create_account" class="rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                <label for="create-account" class="ml-2 block text-sm text-gray-900">Create an account for faster checkout next time</label>
            </div>
            
            <div id="create-account-fields" class="hidden space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="first-name" class="block text-sm font-medium text-gray-700 mb-1">First Name*</label>
                        <input type="text" id="first-name" name="first_name" class="w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                    </div>
                    <div>
                        <label for="last-name" class="block text-sm font-medium text-gray-700 mb-1">Last Name*</label>
                        <input type="text" id="last-name" name="last_name" class="w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                    </div>
                </div>
                
                <div>
                    <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password*</label>
                    <input type="password" id="password" name="password" class="w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                    <p class="text-sm text-gray-500 mt-1">Password must be at least 8 characters long.</p>
                </div>
                
                <div>
                    <label for="confirm-password" class="block text-sm font-medium text-gray-700 mb-1">Confirm Password*</label>
                    <input type="password" id="confirm-password" name="confirm_password" class="w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50">
                </div>
            </div>
            
            <script>
                document.addEventListener('DOMContentLoaded', function() {
                    const createAccountCheckbox = document.getElementById('create-account');
                    const createAccountFields = document.getElementById('create-account-fields');
                    
                    if (createAccountCheckbox && createAccountFields) {
                        createAccountCheckbox.addEventListener('change', function() {
                            if (this.checked) {
                                createAccountFields.classList.remove('hidden');
                            } else {
                                createAccountFields.classList.add('hidden');
                            }
                        });
                    }
                });
            </script>
            {% endif %}
        </div>
    </div>
</div>
