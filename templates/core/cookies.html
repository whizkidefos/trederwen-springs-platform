{% extends 'base.html' %}
{% load static %}

{% block title %}Cookies Policy | {{ site_settings.site_name }}{% endblock %}

{% block extra_css %}
<style>
    .policy-hero {
        background: linear-gradient(135deg, #1e3a8a 0%, #065f46 50%, #374151 100%);
        background-size: 400% 400%;
        animation: mountainFlow 12s ease infinite;
    }
    
    @keyframes mountainFlow {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }
    
    .welsh-text-shimmer {
        background: linear-gradient(90deg, #1e40af, #059669, #1e40af);
        background-size: 200% 100%;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        animation: welshShimmer 3s ease-in-out infinite;
    }
    
    @keyframes welshShimmer {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
    }
    
    .policy-content h2 {
        color: #1e3a8a;
        margin-top: 2rem;
        margin-bottom: 1rem;
        font-weight: 700;
        font-size: 1.5rem;
    }
    
    .policy-content h3 {
        color: #1e3a8a;
        margin-top: 1.5rem;
        margin-bottom: 0.75rem;
        font-weight: 600;
        font-size: 1.25rem;
    }
    
    .policy-content {
        color: #374151 !important; /* gray-700 */
    }
    
    .policy-content p {
        margin-bottom: 1rem;
        color: #374151 !important;
    }
    
    .policy-content ul {
        margin-bottom: 1rem;
        padding-left: 1.5rem;
        list-style-type: disc;
        color: #374151 !important;
    }
    
    .policy-content ol {
        margin-bottom: 1rem;
        padding-left: 1.5rem;
        list-style-type: decimal;
        color: #374151 !important;
    }
    
    .policy-content li {
        margin-bottom: 0.5rem;
        color: #374151 !important;
    }
    
    .policy-content strong {
        color: #1f2937 !important; /* gray-800 */
    }
    
    .cookie-card {
        transition: all 0.3s ease;
    }
    
    .cookie-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="policy-hero py-16 relative overflow-hidden">
    <div class="absolute inset-0 opacity-30">
        <div class="absolute bottom-0 left-0 right-0 h-64 bg-gradient-to-t from-slate-800 to-transparent" style="clip-path: polygon(0 100%, 10% 80%, 25% 85%, 40% 70%, 55% 75%, 70% 60%, 85% 65%, 100% 50%, 100% 100%);"></div>
    </div>
    
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <div class="text-center">
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">
                Cookies <span class="welsh-text-shimmer">Policy</span>
            </h1>
            <p class="text-lg text-blue-100 max-w-3xl mx-auto">
                How we use cookies and similar technologies on our website
            </p>
        </div>
    </div>
</section>

<!-- Breadcrumbs -->
<div class="bg-gray-100 py-4">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <nav class="flex" aria-label="Breadcrumb">
            <ol class="flex items-center space-x-2">
                <li>
                    <a href="{% url 'core:home' %}" class="text-gray-500 hover:text-gray-700">Home</a>
                </li>
                <li>
                    <span class="text-gray-400 mx-2">/</span>
                </li>
                <li>
                    <span class="text-gray-900 font-medium">Cookies Policy</span>
                </li>
            </ol>
        </nav>
    </div>
</div>

<!-- Cookie Policy Introduction -->
<section class="py-12 bg-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="bg-white rounded-2xl shadow-lg p-8">
            <div class="mb-8">
                <p class="text-gray-600 italic">Last Updated: September 20, 2025</p>
            </div>
            
            <div class="policy-content prose prose-blue max-w-none">
                <p>
                    This Cookies Policy explains what cookies are and how {{ site_settings.site_name }} uses them on our website. We encourage you to read this policy to understand what cookies are, how we use them, and the choices you have regarding their use.
                </p>
                
                <h2>What Are Cookies?</h2>
                <p>
                    Cookies are small text files that are placed on your computer or mobile device when you visit a website. They are widely used to make websites work more efficiently and provide information to the website owners. Cookies enhance user experience by:
                </p>
                <ul>
                    <li>Remembering your preferences and settings</li>
                    <li>Helping you navigate between pages efficiently</li>
                    <li>Enabling websites to remember your login details</li>
                    <li>Allowing website owners to understand how visitors interact with their site</li>
                </ul>
                
                <h2>Types of Cookies We Use</h2>
                <p>
                    We use different types of cookies for various purposes:
                </p>
                
                <h3>Essential Cookies</h3>
                <p>
                    These cookies are necessary for the website to function properly. They enable core functionality such as security, network management, and account access. You cannot opt out of these cookies.
                </p>
                
                <h3>Performance Cookies</h3>
                <p>
                    These cookies collect information about how visitors use our website, such as which pages they visit most often and if they receive error messages. This data helps us improve our website's performance and user experience.
                </p>
                
                <h3>Functionality Cookies</h3>
                <p>
                    These cookies allow our website to remember choices you make and provide enhanced, personalized features. They may be set by us or by third-party providers whose services we have added to our pages.
                </p>
                
                <h3>Targeting/Advertising Cookies</h3>
                <p>
                    These cookies are used to deliver advertisements more relevant to you and your interests. They are also used to limit the number of times you see an advertisement and help measure the effectiveness of advertising campaigns.
                </p>
                
                <h2>Specific Cookies We Use</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white border border-gray-200 mt-4 mb-6">
                        <thead>
                            <tr>
                                <th class="py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Cookie Name</th>
                                <th class="py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th>
                                <th class="py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Purpose</th>
                                <th class="py-2 px-4 border-b border-gray-200 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Duration</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200">
                            <tr>
                                <td class="py-2 px-4 text-sm">sessionid</td>
                                <td class="py-2 px-4 text-sm">Essential</td>
                                <td class="py-2 px-4 text-sm">Maintains your session state across page requests</td>
                                <td class="py-2 px-4 text-sm">Session</td>
                            </tr>
                            <tr>
                                <td class="py-2 px-4 text-sm">csrftoken</td>
                                <td class="py-2 px-4 text-sm">Essential</td>
                                <td class="py-2 px-4 text-sm">Helps prevent Cross-Site Request Forgery attacks</td>
                                <td class="py-2 px-4 text-sm">1 year</td>
                            </tr>
                            <tr>
                                <td class="py-2 px-4 text-sm">_ga</td>
                                <td class="py-2 px-4 text-sm">Performance</td>
                                <td class="py-2 px-4 text-sm">Used by Google Analytics to distinguish users</td>
                                <td class="py-2 px-4 text-sm">2 years</td>
                            </tr>
                            <tr>
                                <td class="py-2 px-4 text-sm">_gid</td>
                                <td class="py-2 px-4 text-sm">Performance</td>
                                <td class="py-2 px-4 text-sm">Used by Google Analytics to distinguish users</td>
                                <td class="py-2 px-4 text-sm">24 hours</td>
                            </tr>
                            <tr>
                                <td class="py-2 px-4 text-sm">user_preferences</td>
                                <td class="py-2 px-4 text-sm">Functionality</td>
                                <td class="py-2 px-4 text-sm">Remembers your site preferences</td>
                                <td class="py-2 px-4 text-sm">1 year</td>
                            </tr>
                            <tr>
                                <td class="py-2 px-4 text-sm">recently_viewed</td>
                                <td class="py-2 px-4 text-sm">Functionality</td>
                                <td class="py-2 px-4 text-sm">Tracks recently viewed products</td>
                                <td class="py-2 px-4 text-sm">30 days</td>
                            </tr>
                            <tr>
                                <td class="py-2 px-4 text-sm">_fbp</td>
                                <td class="py-2 px-4 text-sm">Targeting</td>
                                <td class="py-2 px-4 text-sm">Used by Facebook to deliver advertisements</td>
                                <td class="py-2 px-4 text-sm">90 days</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h2>Third-Party Cookies</h2>
                <p>
                    In addition to our own cookies, we may also use various third-party cookies to report usage statistics, deliver advertisements, and so on. These cookies may include:
                </p>
                <ul>
                    <li>Google Analytics cookies to analyze how users use our website</li>
                    <li>Facebook Pixel to measure the effectiveness of our advertising and understand user actions</li>
                    <li>Payment processor cookies to process transactions securely</li>
                    <li>Social media cookies to enable sharing functionality</li>
                </ul>
                
                <h2>Managing Cookies</h2>
                <p>
                    Most web browsers allow you to manage your cookie preferences. You can:
                </p>
                <ul>
                    <li>Delete cookies from your device</li>
                    <li>Block cookies by activating the setting on your browser that allows you to refuse all or some cookies</li>
                    <li>Set your browser to notify you when you receive a cookie</li>
                </ul>
                <p>
                    Please note that if you choose to block or delete cookies, you may not be able to access certain areas or features of our website, and some services may not function properly.
                </p>
                
                <h3>How to Manage Cookies in Different Browsers</h3>
                <ul>
                    <li><strong>Google Chrome:</strong> Settings → Privacy and security → Cookies and other site data</li>
                    <li><strong>Microsoft Edge:</strong> Settings → Cookies and site permissions → Manage and delete cookies and site data</li>
                    <li><strong>Firefox:</strong> Options → Privacy & Security → Cookies and Site Data</li>
                    <li><strong>Safari:</strong> Preferences → Privacy → Cookies and website data</li>
                    <li><strong>Opera:</strong> Settings → Privacy & Security → Cookies</li>
                </ul>
                
                <h2>Cookie Consent</h2>
                <p>
                    When you first visit our website, you will be shown a cookie banner that allows you to accept or decline non-essential cookies. You can change your preferences at any time by clicking on the "Cookie Settings" link in the footer of our website.
                </p>
                
                <h2>Changes to This Cookie Policy</h2>
                <p>
                    We may update our Cookie Policy from time to time. We will notify you of any changes by posting the new Cookie Policy on this page and updating the "Last Updated" date. You are advised to review this Cookie Policy periodically for any changes.
                </p>
                
                <h2>Contact Us</h2>
                <p>
                    If you have any questions about our Cookie Policy, please contact us at:
                </p>
                <ul>
                    <li>Email: {{ site_settings.contact_email }}</li>
                    <li>Phone: {{ site_settings.contact_phone }}</li>
                    <li>Address: {{ site_settings.address }}</li>
                </ul>
            </div>
        </div>
    </div>
</section>

<!-- Cookie Management -->
<section class="py-12 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-900">Manage Your Cookie Preferences</h2>
            <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">
                You can customize your cookie preferences at any time.
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Essential Cookies -->
            <div class="cookie-card bg-white rounded-xl p-6 shadow-md">
                <div class="h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6">
                    <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-2 text-center">Essential Cookies</h3>
                <p class="text-gray-600 text-center mb-4">
                    These cookies are necessary for the website to function properly and cannot be disabled.
                </p>
                <div class="flex justify-center">
                    <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">
                        Always Active
                    </span>
                </div>
            </div>
            
            <!-- Performance Cookies -->
            <div class="cookie-card bg-white rounded-xl p-6 shadow-md">
                <div class="h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
                    <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-2 text-center">Performance Cookies</h3>
                <p class="text-gray-600 text-center mb-4">
                    These cookies help us understand how visitors interact with our website.
                </p>
                <div class="flex justify-center">
                    <button id="toggle-performance" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700">
                        Manage Preference
                    </button>
                </div>
            </div>
            
            <!-- Marketing Cookies -->
            <div class="cookie-card bg-white rounded-xl p-6 shadow-md">
                <div class="h-16 w-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-6">
                    <svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-2 text-center">Marketing Cookies</h3>
                <p class="text-gray-600 text-center mb-4">
                    These cookies are used to deliver advertisements more relevant to you.
                </p>
                <div class="flex justify-center">
                    <button id="toggle-marketing" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-purple-600 hover:bg-purple-700">
                        Manage Preference
                    </button>
                </div>
            </div>
        </div>
        
        <div class="mt-12 text-center">
            <button id="save-preferences" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700">
                Save Preferences
            </button>
            <p class="mt-4 text-sm text-gray-500">
                You can change these settings at any time by clicking on "Cookie Settings" in the footer.
            </p>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // This is just a placeholder for cookie management functionality
        // In a real implementation, this would interact with your cookie consent system
        
        const togglePerformance = document.getElementById('toggle-performance');
        const toggleMarketing = document.getElementById('toggle-marketing');
        const savePreferences = document.getElementById('save-preferences');
        
        if (togglePerformance) {
            togglePerformance.addEventListener('click', function() {
                this.classList.toggle('bg-green-600');
                this.classList.toggle('bg-gray-400');
                if (this.classList.contains('bg-green-600')) {
                    this.textContent = 'Enabled';
                } else {
                    this.textContent = 'Disabled';
                }
            });
        }
        
        if (toggleMarketing) {
            toggleMarketing.addEventListener('click', function() {
                this.classList.toggle('bg-purple-600');
                this.classList.toggle('bg-gray-400');
                if (this.classList.contains('bg-purple-600')) {
                    this.textContent = 'Enabled';
                } else {
                    this.textContent = 'Disabled';
                }
            });
        }
        
        if (savePreferences) {
            savePreferences.addEventListener('click', function() {
                alert('Your cookie preferences have been saved.');
            });
        }
    });
</script>
{% endblock %}
