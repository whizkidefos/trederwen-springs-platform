{% extends 'base.html' %}
{% load static %}

{% block title %}{{ site_settings.site_name }} - Premium Welsh Spring Water{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="relative bg-gradient-to-br from-primary-50 via-white to-secondary-50 overflow-hidden">
    <div class="absolute inset-0">
        <div class="absolute inset-0 bg-gradient-to-r from-primary-600/10 to-secondary-600/5"></div>
        <!-- Decorative elements -->
        <div class="absolute top-1/4 left-1/4 w-32 h-32 bg-primary-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"></div>
        <div class="absolute top-3/4 right-1/4 w-48 h-48 bg-secondary-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse delay-1000"></div>
    </div>
    
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <!-- Hero Text -->
            <div class="text-center lg:text-left animate-fade-in">
                <h1 class="text-4xl lg:text-6xl font-serif font-bold text-gray-900 mb-6 leading-tight">
                    Life Begins
                    <span class="text-gradient block">After Coffee</span>
                </h1>
                <p class="text-xl text-gray-600 mb-8 max-w-2xl">
                    Experience the pure taste of Welsh spring water, naturally filtered through ancient rock formations. 
                    Perfect for your daily hydration and premium coffee brewing.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                    <a href="/products/" class="bg-primary-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-primary-700 transition-all duration-300 transform hover:scale-105">
                        Shop Now
                    </a>
                    <a href="/subscriptions/" class="border-2 border-primary-600 text-primary-600 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-primary-600 hover:text-white transition-all duration-300">
                        Subscribe & Save
                    </a>
                </div>
            </div>
            
            <!-- Hero Image -->
            <div class="relative animate-bounce-in">
                <div class="relative z-10">
                    <!-- Product bottles mockup -->
                    <div class="flex justify-center items-end space-x-4">
                        <div class="w-16 h-32 bg-gradient-to-b from-primary-100 to-primary-200 rounded-t-full rounded-b-lg shadow-lg transform rotate-12"></div>
                        <div class="w-20 h-40 bg-gradient-to-b from-primary-200 to-primary-300 rounded-t-full rounded-b-lg shadow-xl"></div>
                        <div class="w-16 h-32 bg-gradient-to-b from-primary-100 to-primary-200 rounded-t-full rounded-b-lg shadow-lg transform -rotate-12"></div>
                    </div>
                </div>
                <!-- Background decoration -->
                <div class="absolute inset-0 bg-gradient-to-t from-primary-100 to-transparent rounded-3xl transform rotate-3 scale-110 opacity-30"></div>
            </div>
        </div>
    </div>
</section>

<!-- Categories Section -->
<section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl lg:text-4xl font-serif font-bold text-gray-900 mb-4">
                Find and Get What You Love
            </h2>
            <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                Discover our range of premium spring water products, each crafted for different moments in your day
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            {% for category in categories %}
            <div class="group relative bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden">
                <div class="aspect-w-1 aspect-h-1 bg-gradient-to-br from-primary-50 to-secondary-50 p-8 flex items-center justify-center">
                    {% if category.image %}
                    <img src="{{ category.image.url }}" alt="{{ category.name }}" class="w-16 h-16 object-contain">
                    {% else %}
                    <div class="w-16 h-16 bg-primary-500 rounded-full flex items-center justify-center">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path>
                        </svg>
                    </div>
                    {% endif %}
                </div>
                <div class="p-6 text-center">
                    <h3 class="text-xl font-semibold text-gray-900 mb-2">{{ category.name }}</h3>
                    <p class="text-gray-600 text-sm mb-4">{{ category.description|truncatechars:80 }}</p>
                    <a href="/products/category/{{ category.slug }}/" 
                       class="inline-flex items-center text-primary-600 hover:text-primary-700 font-medium group-hover:underline">
                        Explore
                        <svg class="w-4 h-4 ml-1 transform group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </a>
                </div>
            </div>
            {% empty %}
            <div class="col-span-full text-center py-12">
                <p class="text-gray-500">No categories available yet.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Featured Products Section -->
<section class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl lg:text-4xl font-serif font-bold text-gray-900 mb-4">
                Loved by Locals
            </h2>
            <p class="text-lg text-gray-600">
                Our most popular products, trusted by thousands across Wales and beyond
            </p>
        </div>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
            {% for product in featured_products %}
            <div class="group bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden">
                <div class="aspect-w-1 aspect-h-1 bg-gray-100 relative overflow-hidden">
                    {% if product.images.first %}
                    <img src="{{ product.images.first.image.url }}" 
                         alt="{{ product.images.first.alt_text|default:product.name }}" 
                         class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300">
                    {% else %}
                    <div class="w-full h-48 bg-gradient-to-br from-primary-100 to-primary-200 flex items-center justify-center">
                        <svg class="w-12 h-12 text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    {% endif %}
                    
                    {% if product.discount_percentage %}
                    <div class="absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded text-sm font-medium">
                        -{{ product.discount_percentage }}%
                    </div>
                    {% endif %}
                    
                    {% if not product.in_stock %}
                    <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center">
                        <span class="text-white font-semibold">Out of Stock</span>
                    </div>
                    {% endif %}
                </div>
                
                <div class="p-6">
                    <div class="mb-2">
                        <a href="/products/category/{{ product.category.slug }}/" class="text-sm text-primary-600 hover:text-primary-700">
                            {{ product.category.name }}
                        </a>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-2 group-hover:text-primary-600 transition-colors">
                        <a href="/products/{{ product.slug }}/">{{ product.name }}</a>
                    </h3>
                    <p class="text-gray-600 text-sm mb-4">{{ product.short_description|truncatechars:60 }}</p>
                    
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex flex-col">
                            {% if product.compare_at_price %}
                            <span class="text-sm text-gray-500 line-through">£{{ product.compare_at_price }}</span>
                            {% endif %}
                            <span class="text-lg font-bold text-primary-600">£{{ product.price }}</span>
                        </div>
                        
                        {% if product.average_rating > 0 %}
                        <div class="flex items-center space-x-1">
                            <div class="flex text-yellow-400">
                                {% for i in "12345" %}
                                    {% if forloop.counter <= product.average_rating %}
                                    <svg class="w-4 h-4 fill-current" viewBox="0 0 24 24">
                                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                    </svg>
                                    {% else %}
                                    <svg class="w-4 h-4 text-gray-300" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                    </svg>
                                    {% endif %}
                                {% endfor %}
                            </div>
                            <span class="text-sm text-gray-500">({{ product.review_count }})</span>
                        </div>
                        {% endif %}
                    </div>
                    
                    <div class="flex space-x-2">
                        <button onclick="addToCart('{{ product.id }}')" 
                                class="flex-1 bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed"
                                {% if not product.in_stock %}disabled{% endif %}>
                            {% if product.in_stock %}
                                Add to Cart
                            {% else %}
                                Out of Stock
                            {% endif %}
                        </button>
                        <button class="p-2 border border-gray-300 rounded-lg hover:border-primary-500 hover:text-primary-600 transition-colors">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-span-full text-center py-12">
                <p class="text-gray-500">No featured products available yet.</p>
                <a href="/products/" class="text-primary-600 hover:text-primary-700 font-medium">Browse all products</a>
            </div>
            {% endfor %}
        </div>
        
        {% if featured_products %}
        <div class="text-center mt-12">
            <a href="/products/" 
               class="inline-flex items-center bg-white text-primary-600 px-8 py-3 rounded-lg border-2 border-primary-600 hover:bg-primary-600 hover:text-white transition-all duration-300 font-semibold">
                View All Products
                <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                </svg>
            </a>
        </div>
        {% endif %}
    </div>
</section>

<!-- Values/USPs Section -->
<section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <!-- Text Content -->
            <div>
                <h2 class="text-3xl lg:text-4xl font-serif font-bold text-gray-900 mb-6">
                    Good Vibes, Great Coffee
                </h2>
                <p class="text-lg text-gray-600 mb-8">
                    Sourced from the pristine Welsh mountains, our spring water undergoes centuries of natural filtration. 
                    Each drop carries the essence of Wales, perfect for brewing your morning coffee or staying hydrated throughout the day.
                </p>
                
                <div class="grid grid-cols-2 gap-6">
                    <div class="text-center">
                        <div class="w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-3">
                            <svg class="w-6 h-6 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <h3 class="font-semibold text-gray-900 mb-1">Pure Source</h3>
                        <p class="text-sm text-gray-600">100% natural Welsh spring water</p>
                    </div>
                    
                    <div class="text-center">
                        <div class="w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-3">
                            <svg class="w-6 h-6 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <h3 class="font-semibold text-gray-900 mb-1">Fast Delivery</h3>
                        <p class="text-sm text-gray-600">Next day delivery available</p>
                    </div>
                    
                    <div class="text-center">
                        <div class="w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-3">
                            <svg class="w-6 h-6 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                            </svg>
                        </div>
                        <h3 class="font-semibold text-gray-900 mb-1">Eco Friendly</h3>
                        <p class="text-sm text-gray-600">Sustainable packaging</p>
                    </div>
                    
                    <div class="text-center">
                        <div class="w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-3">
                            <svg class="w-6 h-6 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                            </svg>
                        </div>
                        <h3 class="font-semibold text-gray-900 mb-1">Expert Support</h3>
                        <p class="text-sm text-gray-600">Dedicated customer service</p>
                    </div>
                </div>
            </div>
            
            <!-- Image Grid -->
            <div class="grid grid-cols-2 gap-4">
                <div class="space-y-4">
                    <div class="aspect-w-1 aspect-h-1 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl flex items-center justify-center h-32">
                        <svg class="w-12 h-12 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path>
                        </svg>
                    </div>
                    <div class="aspect-w-1 aspect-h-2 bg-gradient-to-br from-secondary-100 to-secondary-200 rounded-2xl flex items-center justify-center h-48">
                        <svg class="w-16 h-16 text-secondary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                        </svg>
                    </div>
                </div>
                <div class="space-y-4 pt-8">
                    <div class="aspect-w-1 aspect-h-2 bg-gradient-to-br from-green-100 to-green-200 rounded-2xl flex items-center justify-center h-48">
                        <svg class="w-16 h-16 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <div class="aspect-w-1 aspect-h-1 bg-gradient-to-br from-blue-100 to-blue-200 rounded-2xl flex items-center justify-center h-32">
                        <svg class="w-12 h-12 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Blog Section -->
{% if latest_posts %}
<section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center mb-12">
            <div>
                <h2 class="text-3xl lg:text-4xl font-serif font-bold text-gray-900 mb-4">
                    What's New at Our Coffee Shop
                </h2>
                <p class="text-lg text-gray-600">
                    Discover the latest stories, recipes, and tips from our blog
                </p>
            </div>
            <a href="/blog/" 
               class="hidden md:inline-flex items-center text-primary-600 hover:text-primary-700 font-medium">
                View All
                <svg class="w-5 h-5 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                </svg>
            </a>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            {% for post in latest_posts %}
            <article class="group">
                <div class="aspect-w-16 aspect-h-9 mb-4 overflow-hidden rounded-2xl">
                    {% if post.featured_image %}
                    <img src="{{ post.featured_image.url }}" 
                         alt="{{ post.featured_image_alt|default:post.title }}" 
                         class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300">
                    {% else %}
                    <div class="w-full h-48 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center">
                        <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path>
                        </svg>
                    </div>
                    {% endif %}
                </div>
                
                <div class="mb-2">
                    <span class="text-sm text-primary-600 font-medium">{{ post.category.name }}</span>
                </div>
                
                <h3 class="text-xl font-semibold text-gray-900 mb-2 group-hover:text-primary-600 transition-colors">
                    <a href="{{ post.get_absolute_url }}">{{ post.title }}</a>
                </h3>
                
                <p class="text-gray-600 mb-4">{{ post.excerpt|truncatechars:120 }}</p>
                
                <div class="flex items-center text-sm text-gray-500">
                    <span>{{ post.author.get_full_name }}</span>
                    <span class="mx-2">•</span>
                    <span>{{ post.published_at|date:"M d, Y" }}</span>
                    <span class="mx-2">•</span>
                    <span>{{ post.reading_time }} min read</span>
                </div>
            </article>
            {% endfor %}
        </div>
        
        <div class="text-center mt-12 md:hidden">
            <a href="/blog/" 
               class="inline-flex items-center text-primary-600 hover:text-primary-700 font-medium">
                View All Posts
                <svg class="w-5 h-5 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                </svg>
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="py-16 bg-primary-600">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-3xl lg:text-4xl font-serif font-bold text-white mb-4">
            Ready to Experience Pure Welsh Water?
        </h2>
        <p class="text-xl text-primary-100 mb-8 max-w-2xl mx-auto">
            Join thousands of satisfied customers and taste the difference that pure Welsh spring water makes.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="/products/" 
               class="bg-white text-primary-600 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-100 transition-all duration-300 transform hover:scale-105">
                Shop Now
            </a>
            <a href="/subscriptions/" 
               class="border-2 border-white text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-white hover:text-primary-600 transition-all duration-300">
                Subscribe & Save 15%
            </a>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // Track homepage view for analytics
    document.addEventListener('DOMContentLoaded', function() {
        // Track page view for recommendations
        if (typeof gtag !== 'undefined') {
            gtag('event', 'page_view', {
                page_title: 'Homepage',
                page_location: window.location.href
            });
        }
        
        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if entry.isIntersecting) {
                    entry.target.classList.add('animate-fade-in');
                }
            });
        }, observerOptions);
        
        // Observe sections for animations
        document.querySelectorAll('section').forEach(section => {
            observer.observe(section);
        });
    });
</script>
{% endblock %}